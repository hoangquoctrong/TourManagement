CREATE TABLE TOUR(
	TOUR_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_NAME VARCHAR(255),
	TOUR_CHARACTERISTIS TEXT,
	TOUR_TYPE VARCHAR(255),
	TOUR_IMAGE IMAGE
)

CREATE TABLE TOUR_PRICE (
	TOUR_PRICE_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_COST FLOAT,
	TOUR_TIME DATETIME,
	TOUR_ID INT NOT NULL
	FOREIGN KEY (TOUR_ID) REFERENCES TOUR(TOUR_ID)
)

CREATE TABLE PLACE (
	PLACE_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	PLACE_NAME VARCHAR(255),
)

CREATE TABLE TOUR_LOCATION (
	TOUR_LOCATION_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_LOCATION_NAME VARCHAR(255),
	PLACE_ID INT NOT NULL,
	FOREIGN KEY (PLACE_ID) REFERENCES PLACE(PLACE_ID)
)

CREATE TABLE TOUR_LOCATION_DETAILED (
	TOUR_LOCATION_DETAILED_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_LOCATION_ID INT NOT NULL,
	TOUR_ID INT NOT NULL,
	FOREIGN KEY (TOUR_LOCATION_ID) REFERENCES TOUR_LOCATION(TOUR_LOCATION_ID),
	FOREIGN KEY (TOUR_ID) REFERENCES TOUR(TOUR_ID)
)

CREATE TABLE TRAVEL_COST (
	TRAVEL_COST_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOTAL_HOTEL_COST FLOAT,
	TOTAL_MEAL_COST FLOAT,
	TOTAL_TRANSPORT_COST FLOAT,
	ANOTHER_COST FLOAT
)

CREATE TABLE TRAVEL_GROUP (
	TRAVEL_GROUP_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TRAVEL_GROUP_NAME VARCHAR(255),
	TRAVEL_GROUP_DEPARTMENT_DATE DATETIME,
	TRAVEL_GROUP_END_DATE DATETIME, 
	TRAVEL_GROUP_CONTENT_DETAIL TEXT,
	TRAVEL_COST_ID INT NOT NULL,
	TOUR_ID INT NOT NULL,
	FOREIGN KEY (TRAVEL_COST_ID) REFERENCES TRAVEL_COST(TRAVEL_COST_ID),
	FOREIGN KEY (TOUR_ID) REFERENCES TOUR(TOUR_ID)
)

CREATE TABLE TOUR_STAFF (
	TOUR_STAFF_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_STAFF_NAME VARCHAR(255),
	TOUR_STAFF_BIRTH_DATE DATE,
	TOUR_STAFF_BIRTH_PLACE VARCHAR(255),
	TOUR_STAFF_ACADEMIC_LEVEL VARCHAR(255),
	TOUR_STAFF_GENDER VARCHAR(255),
	TOUR_STAFF_CITIZEN_IDENTITY VARCHAR(255),
	TOUR_STAFF_ADDRESS TEXT,
	TOUR_STAFF_START_DATE DATE,
	TOUR_STAFF_EMAIL VARCHAR(255),
	TOUR_STAFF_PHONE_NUMBER VARCHAR(255),
	TOUR_STAFF_IMAGE IMAGE,
	TOUR_STAFF_NOTE TEXT
)

CREATE TABLE TOUR_MISSION (
	TOUR_MISSION_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_MISSION_TIME DATETIME,
	TOUR_MISSION_RESPONSIBILITY VARCHAR(255),
	TRAVEL_GROUP_ID INT NOT NULL,
	TOUR_STAFF_ID INT NOT NULL,
	FOREIGN KEY (TRAVEL_GROUP_ID) REFERENCES TRAVEL_GROUP(TRAVEL_GROUP_ID),
	FOREIGN KEY (TOUR_STAFF_ID) REFERENCES TOUR_STAFF(TOUR_STAFF_ID)
)

CREATE TABLE TOUR_TRANSPORT(
	TOUR_TRANSPORT_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_TRANSPORT_NAME VARCHAR(255)
)

CREATE TABLE TOUR_TRANSPORT_DETAIL (
	TOUR_TRANSPORT_DETAIL_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_TRANSPORT_DETAIL_TIME DATETIME,
	TRAVEL_GROUP_ID INT NOT NULL,
	TOUR_TRANSPORT_ID INT NOT NULL,
	FOREIGN KEY (TRAVEL_GROUP_ID) REFERENCES TRAVEL_GROUP(TRAVEL_GROUP_ID),
	FOREIGN KEY (TOUR_TRANSPORT_ID) REFERENCES TOUR_TRANSPORT(TOUR_TRANSPORT_ID)
)

CREATE TABLE TOUR_HOTEL(
	TOUR_HOTEL_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_HOTEL_NAME VARCHAR(255),
	TOUR_HOTEL_ADDRESS TEXT,
	TOUR_HOTEL_PHONE_NUMBER INT
)

CREATE TABLE TOUR_HOTEL_DETAIL (
	TOUR_HOTEL_DETAIL_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_HOTEL_DETAIL_TIME DATETIME,
	TRAVEL_GROUP_ID INT NOT NULL,
	TOUR_HOTEL_ID INT NOT NULL,
	FOREIGN KEY (TRAVEL_GROUP_ID) REFERENCES TRAVEL_GROUP(TRAVEL_GROUP_ID),
	FOREIGN KEY (TOUR_HOTEL_ID) REFERENCES TOUR_HOTEL(TOUR_HOTEL_ID)
)

CREATE TABLE TRAVELLER(
	TRAVELLER_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TRAVELLER_NAME VARCHAR(255),
	TRAVELLER_CITIZEN_IDENTITY INT,
	TRAVELLER_SEX VARCHAR(255),
	TRAVELLER_BIRTH DATE,
	TRAVELLER_ADDRESS TEXT,
	TRAVELLER_PHONE_NUMBER INT,
	TRAVELLER_IMAGE IMAGE,
	TRAVELLER_TYPE VARCHAR(255)
)

CREATE TABLE TRAVELLER_DETAIL (
	TRAVELLER_DETAIL_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TRAVELLER_DETAIL_TIME DATETIME,
	TRAVEL_GROUP_ID INT NOT NULL,
	TRAVELLER_ID INT NOT NULL,
	FOREIGN KEY (TRAVEL_GROUP_ID) REFERENCES TRAVEL_GROUP(TRAVEL_GROUP_ID),
	FOREIGN KEY (TRAVELLER_ID) REFERENCES TRAVELLER(TRAVELLER_ID)
)

CREATE TABLE TOUR_ACCOUNT(
	TOUR_ACCOUNT_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_ACCOUNT_NAME VARCHAR(255) UNIQUE NOT NULL,
	TOUR_ACCOUNT_PASSWORD VARCHAR(255),
	TOUR_STAFF_ID INT NOT NULL,
	FOREIGN KEY (TOUR_STAFF_ID) REFERENCES TOUR_STAFF(TOUR_STAFF_ID)
)

CREATE TABLE TRAVELLER_ACCOUNT(
	TRAVELLER_ACCOUNT_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TRAVELLER_ACCOUNT_NAME VARCHAR(255) UNIQUE NOT NULL,
	TRAVELLER_ACCOUNT_PASSWORD VARCHAR(255),
	TRAVELLER_ID INT NOT NULL,
	FOREIGN KEY (TRAVELLER_ID) REFERENCES TRAVELLER(TRAVELLER_ID)
)

CREATE TABLE TOUR_RECORD (
	TOUR_RECORD_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_RECORD_CONTENT VARCHAR(255),	
	TOUR_RECORD_DATE DATETIME,
	TOUR_STAFF_ID INT NOT NULL,
	FOREIGN KEY (TOUR_STAFF_ID) REFERENCES TOUR_STAFF(TOUR_STAFF_ID)
)

CREATE TABLE TOUR_STAFF_DELETE (
	TOUR_STAFF_DELETE_ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	TOUR_STAFF_DELETE_ISDELETED BIT,	
	TOUR_STAFF_DELETE_DATE DATETIME,
	TOUR_STAFF_ID INT NOT NULL,
	TOUR_STAFF_DELETE_CONTENT TEXT,
	FOREIGN KEY (TOUR_STAFF_ID) REFERENCES TOUR_STAFF(TOUR_STAFF_ID)
)